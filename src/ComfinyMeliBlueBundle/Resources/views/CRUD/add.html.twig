{% extends 'base.html.twig' %}
{% block title %} - Edition{% endblock %}
{% block navbar %}
{%  endblock %}

{% block logo %}
{%  endblock %}

{%  block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/editor.css') }}"/>
{%  endblock %}


{%  block body %}

    {{ form_start(form) }}
    <div class="containerAdd">
    <div class="textareacontainer">
        <div class="textarea">
            <div style="overflow:auto;">
                {{ form_row(form.title) }}
            </div>
            <br/>
            <div class="textareawrapper">
                {{ form_widget(form.content) }}


            </div>
        </div>
    </div>
    <div class="iframecontainer">
    <div class="iframe">
        <div style="overflow:auto;">
           {{ form_widget(form.save) }}
            <button class="seeResult" type="button" onclick="submitTryit()" style="margin-right: 20px">Voir le r√©sultat</button>

        </div>
        <br/>
        <div id="iframewrapper" class="iframewrapper">

        </div><br/>

    </div>
    </div>

    </div>
    {{ form_end(form) }}

    {% block javascripts %}

        <script>

            function submitTryit() {

                var text = $(".postContent").val();
                var ifr = document.createElement("iframe");
                ifr.setAttribute("frameborder", "0");
                ifr.setAttribute("id", "iframeResult");
                document.getElementById("iframewrapper").innerHTML = "";
                document.getElementById("iframewrapper").appendChild(ifr);
                var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;
                ifrw.document.open();
                ifrw.document.write(text);
                ifrw.document.close();
            }

        </script>


    {% endblock %}
{%  endblock %}